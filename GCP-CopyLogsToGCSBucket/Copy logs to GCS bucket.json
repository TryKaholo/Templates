{"content":"{\"cells\":[{\"type\":\"devs.PMStartPoint\",\"size\":{\"width\":40,\"height\":39},\"outPorts\":[\" \"],\"inPorts\":[],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\" \"}}}]},\"position\":{\"x\":428,\"y\":-116},\"angle\":0,\"id\":\"6324f530-c663-4ceb-ba6e-a7e8e792989a\",\"z\":1,\"attrs\":{\"rect\":{\"fill\":\"#2d3236\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":1120,\"y\":-130},\"angle\":0,\"id\":\"2a0c7035-8cfe-4630-a186-226f8c28ec5d\",\"z\":5,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"fill\":\"#2d3236\"},\".label\":{\"text\":\"Create bucket\"},\".p_id\":{\"text\":\"6204f07e5e1b3600348e392e\"},\"image\":{\"xlink:href\":\"/plugins/CloudStorage/logo.png\",\"ref-y\":50},\"text\":{\"text\":\"Create bucket\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":552,\"y\":-130},\"angle\":0,\"id\":\"6f29cfab-faf3-460b-ba74-b96c1b1507f5\",\"z\":16,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"fill\":\"#2d3236\"},\".label\":{\"text\":\"Conf gsutil\"},\".p_id\":{\"text\":\"6204f0ae5e1b3600348e3fa8\"},\"image\":{\"xlink:href\":\"/plugins/CommandLine/CommandLine.png\",\"ref-y\":50},\"text\":{\"text\":\"Conf gsutil\"}}},{\"type\":\"link\",\"source\":{\"id\":\"6324f530-c663-4ceb-ba6e-a7e8e792989a\",\"port\":\" \"},\"target\":{\"id\":\"6f29cfab-faf3-460b-ba74-b96c1b1507f5\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"99684d99-bda6-4cef-984d-ddfb27150faa\",\"z\":25,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":736,\"y\":-130},\"angle\":0,\"id\":\"7709728a-c02a-4d17-b7c4-2508221ba1c1\",\"z\":26,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"fill\":\"#2d3236\"},\".label\":{\"text\":\"Conf project\"},\".p_id\":{\"text\":\"6204f0ae5e1b3600348e3fa8\"},\"image\":{\"xlink:href\":\"/plugins/CommandLine/CommandLine.png\",\"ref-y\":50},\"text\":{\"text\":\"Conf project\"}}},{\"type\":\"link\",\"source\":{\"id\":\"6f29cfab-faf3-460b-ba74-b96c1b1507f5\",\"port\":\"  \"},\"target\":{\"id\":\"7709728a-c02a-4d17-b7c4-2508221ba1c1\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"29c9b6ad-ee15-4214-a6cd-0429a0518200\",\"z\":27,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":1321,\"y\":-130},\"angle\":0,\"id\":\"99fa05b8-7ff9-4b46-b1b2-17a629cf1a3d\",\"z\":30,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"fill\":\"#2d3236\"},\".label\":{\"text\":\"Upload logs\"},\".p_id\":{\"text\":\"6204f0ae5e1b3600348e3fa8\"},\"image\":{\"xlink:href\":\"/plugins/CommandLine/CommandLine.png\",\"ref-y\":50},\"text\":{\"text\":\"Upload logs\"}}},{\"type\":\"link\",\"source\":{\"id\":\"2a0c7035-8cfe-4630-a186-226f8c28ec5d\",\"port\":\"  \"},\"target\":{\"id\":\"99fa05b8-7ff9-4b46-b1b2-17a629cf1a3d\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"182422f8-ab77-43a6-8b1e-7ff1395573f5\",\"z\":31,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":931,\"y\":-130},\"angle\":0,\"id\":\"e736f250-2533-40cc-91c1-2d04222b5dfd\",\"z\":32,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"fill\":\"#2d3236\"},\".label\":{\"text\":\"Scp\"},\".p_id\":{\"text\":\"6204f0ae5e1b3600348e3fa8\"},\"image\":{\"xlink:href\":\"/plugins/CommandLine/CommandLine.png\",\"ref-y\":50},\"text\":{\"text\":\"Scp\"}}},{\"type\":\"link\",\"source\":{\"id\":\"7709728a-c02a-4d17-b7c4-2508221ba1c1\",\"port\":\"  \"},\"target\":{\"id\":\"e736f250-2533-40cc-91c1-2d04222b5dfd\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"bc77aab2-6a44-4f49-accb-a98531dd65d1\",\"z\":33,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"link\",\"source\":{\"id\":\"e736f250-2533-40cc-91c1-2d04222b5dfd\",\"port\":\"  \"},\"target\":{\"id\":\"2a0c7035-8cfe-4630-a186-226f8c28ec5d\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"2453b3a9-e27e-4d9a-b8ba-42ecf335c0e1\",\"z\":34,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}}]}","code":"const WORKING_DIR = \"/tmp\";\n\n// This project has to be created\nconst PROJECT_ID = kaholo.execution.configuration.projectId;\nconst SECRET_KEY = kaholo.execution.configuration.gcpKey;\n\n// Make sure the bucket name is unique\nconst BUCKET_NAME = kaholo.execution.configuration.bucket.name;\n\n// This is the storage class of the GCP Cloud Storage bucket\nconst STORAGE_CLASS = kaholo.execution.configuration.bucket.storageClass;\n\n// Location of the GCP bucket\nconst LOCATION = kaholo.execution.configuration.bucket.location;\n\nconst LOGS_PATH = kaholo.execution.configuration.localLogsPath;\n\nconst INSTANCE_TYPE = kaholo.execution.configuration.instance.type;\n\nconst REMOTE_LOGS_PATH = kaholo.execution.configuration.instance.remoteLogsPath;\n\nconst INSTANCE_USER = kaholo.execution.configuration.instance.user;\n\nconst INSTANCE_ZONE = kaholo.execution.configuration.instance.zone;\n\nconst INSTANCE_HOST = kaholo.execution.configuration.instance.host;\n\nconst AWS_SECRET_KEY = kaholo.execution.configuration.instance.secretKey;\n\nasync function get_key() {\n    return await kaholo.vault.getValueByKey(SECRET_KEY);\n}\n\nasync function import_gcp_profile() {\n    const KEY = await kaholo.vault.getValueByKey(SECRET_KEY);\n    return `echo '${KEY}' > key.json; gcloud auth activate-service-account --key-file key.json`;\n}\n\nfunction set_project() {\n    return `gcloud config set project ${PROJECT_ID}`\n}\n\nfunction upload_files() {\n    return `gsutil cp -r '${LOGS_PATH}/*.log' 'gs://${BUCKET_NAME}/${LOGS_PATH}'`\n}\n\nasync function scp(){\n    switch (INSTANCE_TYPE) {\n        case \"ec2\":\n            const AWS_KEY = await kaholo.vault.getValueByKey(AWS_SECRET_KEY);\n            return `echo '${AWS_KEY}' > key.pem;chmod 400 key.pem;scp -o StrictHostKeyChecking=no -i key.pem -r ${INSTANCE_USER}@${INSTANCE_HOST}:${REMOTE_LOGS_PATH} ${LOGS_PATH}`\n        case \"ce\":\n            import_gcp_profile()\n            return `gcloud compute scp --recurse ${INSTANCE_USER}@${INSTANCE_HOST}:${REMOTE_LOGS_PATH} ${LOGS_PATH} --zone ${INSTANCE_ZONE}`\n    }\n}","plugins":[],"processes":[{"id":"6206cac45e1b3600348f09ba","uuid":"2a0c7035-8cfe-4630-a186-226f8c28ec5d","codeId":"createBackupLogsBucket","name":"Create bucket","description":"","mandatory":true,"coordination":"","condition":"","preRun":"","postRun":"","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Create bucket","mandatory":true,"method":"CREATE_BUCKET","params":[{"value":"PROJECT_ID","code":true,"id":"6204f07e5e1b3600348e3930","_id":"6204f07e5e1b3600348e3930","language":null,"viewName":"Project ID","name":"PROJECT","required":false,"param":"6204f07e5e1b3600348e3930","type":"string"},{"value":"BUCKET_NAME","code":true,"id":"6204f07e5e1b3600348e3931","_id":"6204f07e5e1b3600348e3931","language":null,"viewName":"Name","name":"NAME","required":false,"param":"6204f07e5e1b3600348e3931","type":"string"},{"value":"credentials gcp","code":null,"id":"6204f07e5e1b3600348e3932","_id":"6204f07e5e1b3600348e3932","language":null,"viewName":"Credentials","name":"CREDENTIALS","required":false,"param":"6204f07e5e1b3600348e3932","type":"vault"},{"value":"STORAGE_CLASS","code":true,"id":"6204f07e5e1b3600348e3933","_id":"6204f07e5e1b3600348e3933","language":null,"viewName":"Storage Class","name":"CLASS","required":false,"param":"6204f07e5e1b3600348e3933","type":"string"},{"value":"LOCATION","code":true,"id":"6204f07e5e1b3600348e3934","_id":"6204f07e5e1b3600348e3934","language":null,"viewName":"Location","name":"LOCATION","required":false,"param":"6204f07e5e1b3600348e3934","type":"string"}],"isEnabled":true,"numParallel":""}],"used_plugin":{"name":"CloudStorage","version":"1.1.1"},"correlateAgents":null,"numProcessParallel":""},{"id":"621fe5675e1b3600349918a8","uuid":"6f29cfab-faf3-460b-ba74-b96c1b1507f5","codeId":"conf-gsutil","name":"Conf gsutil","description":"","mandatory":true,"coordination":"","condition":"","preRun":"","postRun":"","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Conf gsutil","mandatory":true,"method":"execute","params":[{"value":"WORKING_DIR","code":true,"id":"6204f0ae5e1b3600348e3faa","_id":"6204f0ae5e1b3600348e3faa","language":null,"viewName":"Working Directory","name":"workingDir","required":false,"param":"6204f0ae5e1b3600348e3faa","type":"string"},{"value":"import_gcp_profile()","code":true,"id":"6204f0ae5e1b3600348e3fab","_id":"6204f0ae5e1b3600348e3fab","language":null,"viewName":"Command","name":"COMMANDS","required":false,"param":"6204f0ae5e1b3600348e3fab","type":"string"},{"value":null,"code":null,"id":"6204f0ae5e1b3600348e3fac","_id":"6204f0ae5e1b3600348e3fac","language":null,"viewName":"Wait For Close","name":"exitOnClose","required":false,"param":"6204f0ae5e1b3600348e3fac","type":"boolean"},{"value":"/bin/bash","code":null,"id":"6204f0ae5e1b3600348e3fad","_id":"6204f0ae5e1b3600348e3fad","language":null,"viewName":"Shell Type","name":"shell","required":false,"param":"6204f0ae5e1b3600348e3fad","type":"options"}],"isEnabled":true,"numParallel":""}],"used_plugin":{"name":"CommandLine","version":"3.0.2"},"correlateAgents":null,"numProcessParallel":""},{"id":"622133175e1b36003499abe2","uuid":"7709728a-c02a-4d17-b7c4-2508221ba1c1","codeId":"setproject","name":"Conf project","description":"","mandatory":true,"coordination":"","condition":"","preRun":"","postRun":"","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Conf project","mandatory":true,"method":"execute","params":[{"value":"WORKING_DIR","code":true,"id":"6204f0ae5e1b3600348e3faa","_id":"6204f0ae5e1b3600348e3faa","language":null,"viewName":"Working Directory","name":"workingDir","required":false,"param":"6204f0ae5e1b3600348e3faa","type":"string"},{"value":"set_project()","code":true,"id":"6204f0ae5e1b3600348e3fab","_id":"6204f0ae5e1b3600348e3fab","language":null,"viewName":"Command","name":"COMMANDS","required":false,"param":"6204f0ae5e1b3600348e3fab","type":"string"},{"value":null,"code":null,"id":"6204f0ae5e1b3600348e3fac","_id":"6204f0ae5e1b3600348e3fac","language":null,"viewName":"Wait For Close","name":"exitOnClose","required":false,"param":"6204f0ae5e1b3600348e3fac","type":"boolean"},{"value":"/bin/bash","code":null,"id":"6204f0ae5e1b3600348e3fad","_id":"6204f0ae5e1b3600348e3fad","language":null,"viewName":"Shell Type","name":"shell","required":false,"param":"6204f0ae5e1b3600348e3fad","type":"options"}],"isEnabled":true,"numParallel":""}],"used_plugin":{"name":"CommandLine","version":"3.0.2"},"correlateAgents":null,"numProcessParallel":""},{"id":"622133175e1b36003499abe8","uuid":"99fa05b8-7ff9-4b46-b1b2-17a629cf1a3d","codeId":"uploadLogs","name":"Upload logs","description":"","mandatory":true,"coordination":"","condition":"","preRun":"","postRun":"","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Upload logs","mandatory":true,"method":"execute","params":[{"value":"WORKING_DIR","code":true,"id":"6204f0ae5e1b3600348e3faa","_id":"6204f0ae5e1b3600348e3faa","language":null,"viewName":"Working Directory","name":"workingDir","required":false,"param":"6204f0ae5e1b3600348e3faa","type":"string"},{"value":"upload_files()","code":true,"id":"6204f0ae5e1b3600348e3fab","_id":"6204f0ae5e1b3600348e3fab","language":null,"viewName":"Command","name":"COMMANDS","required":false,"param":"6204f0ae5e1b3600348e3fab","type":"string"},{"value":null,"code":null,"id":"6204f0ae5e1b3600348e3fac","_id":"6204f0ae5e1b3600348e3fac","language":null,"viewName":"Wait For Close","name":"exitOnClose","required":false,"param":"6204f0ae5e1b3600348e3fac","type":"boolean"},{"value":"/bin/bash","code":null,"id":"6204f0ae5e1b3600348e3fad","_id":"6204f0ae5e1b3600348e3fad","language":null,"viewName":"Shell Type","name":"shell","required":false,"param":"6204f0ae5e1b3600348e3fad","type":"options"}],"isEnabled":true,"numParallel":""}],"used_plugin":{"name":"CommandLine","version":"3.0.2"},"correlateAgents":null,"numProcessParallel":""},{"id":"6221390c5e1b36003499b02b","uuid":"e736f250-2533-40cc-91c1-2d04222b5dfd","codeId":"scp-ec2","name":"Scp","description":"","mandatory":true,"coordination":"","condition":"","preRun":"","postRun":"","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Scp","mandatory":true,"method":"execute","params":[{"value":"WORKING_DIR","code":true,"id":"6204f0ae5e1b3600348e3faa","_id":"6204f0ae5e1b3600348e3faa","language":null,"viewName":"Working Directory","name":"workingDir","required":false,"param":"6204f0ae5e1b3600348e3faa","type":"string"},{"value":"scp()","code":true,"id":"6204f0ae5e1b3600348e3fab","_id":"6204f0ae5e1b3600348e3fab","language":null,"viewName":"Command","name":"COMMANDS","required":false,"param":"6204f0ae5e1b3600348e3fab","type":"string"},{"value":null,"code":null,"id":"6204f0ae5e1b3600348e3fac","_id":"6204f0ae5e1b3600348e3fac","language":null,"viewName":"Wait For Close","name":"exitOnClose","required":false,"param":"6204f0ae5e1b3600348e3fac","type":"boolean"},{"value":"/bin/bash","code":null,"id":"6204f0ae5e1b3600348e3fad","_id":"6204f0ae5e1b3600348e3fad","language":null,"viewName":"Shell Type","name":"shell","required":false,"param":"6204f0ae5e1b3600348e3fad","type":"options"}],"isEnabled":true,"numParallel":""}],"used_plugin":{"name":"CommandLine","version":"3.0.2"},"correlateAgents":null,"numProcessParallel":""}],"configurations":[{"name":"conf compute engine","value":"{\n    \"projectId\" : \"vincent-sandbox-275412\",\n    \"bucket\" : {\n        \"name\" : \"vincent-sandbox-project-logs2\",\n        \"storageClass\" : \"NEARLINE\",\n        \"location\" : \"us-central1\"\n    },\n    \"gcpKey\" : \"credentials gcp\",\n    \"localLogsPath\" : \"logs/\",\n    \"instance\" : {\n        \"type\" : \"ce\",\n        \"remoteLogsPath\" : \"/home/vincent_grob33/logs\",\n        \"user\" : \"vincent_grob33\",\n        \"host\" : \"instance-1\",\n        \"zone\" : \"us-central1-a\"\n    }\n}","_id":"6223a72e5e1b3600349ab28c"},{"name":"conf ec2","value":"{\n    \"projectId\" : \"vincent-sandbox-275412\",\n    \"bucket\" : {\n        \"name\" : \"vincent-sandbox-project-logs2\",\n        \"storageClass\" : \"NEARLINE\",\n        \"location\" : \"us-central1\"\n    },\n    \"gcpKey\" : \"credentials gcp\",\n    \"localLogsPath\" : \"logs/\",\n    \"instance\" : {\n        \"type\" : \"ec2\",\n        \"remoteLogsPath\" : \"/home/ec2-user/logs\",\n        \"user\" : \"ec2-user\",\n        \"host\" : \"ec2-54-152-101-194.compute-1.amazonaws.com\",\n        \"secretKey\" : \"ec2-perso\"\n    }\n}","_id":"6223a72e5e1b3600349ab28d"}],"links":[{"uuid":"99684d99-bda6-4cef-984d-ddfb27150faa","sourceId":"6324f530-c663-4ceb-ba6e-a7e8e792989a","targetId":"6f29cfab-faf3-460b-ba74-b96c1b1507f5"},{"uuid":"29c9b6ad-ee15-4214-a6cd-0429a0518200","sourceId":"6f29cfab-faf3-460b-ba74-b96c1b1507f5","targetId":"7709728a-c02a-4d17-b7c4-2508221ba1c1"},{"uuid":"182422f8-ab77-43a6-8b1e-7ff1395573f5","sourceId":"2a0c7035-8cfe-4630-a186-226f8c28ec5d","targetId":"99fa05b8-7ff9-4b46-b1b2-17a629cf1a3d"},{"uuid":"bc77aab2-6a44-4f49-accb-a98531dd65d1","sourceId":"7709728a-c02a-4d17-b7c4-2508221ba1c1","targetId":"e736f250-2533-40cc-91c1-2d04222b5dfd"},{"uuid":"2453b3a9-e27e-4d9a-b8ba-42ecf335c0e1","sourceId":"e736f250-2533-40cc-91c1-2d04222b5dfd","targetId":"2a0c7035-8cfe-4630-a186-226f8c28ec5d"}],"used_plugins":[{"name":"Amazon-aws-s3","version":"2.0.3"},{"name":"CloudStorage","version":"1.1.1"},{"name":"CommandLine","version":"3.0.2"},{"name":"CommandLine","version":"3.0.2"},{"name":"CommandLine","version":"3.0.2"},{"name":"CommandLine","version":"3.0.2"},{"name":"CommandLine","version":"3.0.2"},{"name":"CommandLine","version":"3.0.2"}],"exportedPipeline":{"description":"The pipeline allows you to move all your logs from your machine to a GCS bucket.\nThe machine can either be on an EC2 instance (hosted on AWS) or a compute engine (hosted on GCP).   \nYou will need to create at least one key/value pair in your vault and two if you want to use ec2 -> gcs sync:\n- One for GCP service account.\n- One for AWS ec2 instance pem (only if you want to use ec2 -> gcs sync).","queue":null}}