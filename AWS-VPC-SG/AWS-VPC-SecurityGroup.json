{"content":"{\"cells\":[{\"type\":\"devs.PMStartPoint\",\"size\":{\"width\":40,\"height\":39},\"outPorts\":[\" \"],\"inPorts\":[],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\" \"}}}]},\"position\":{\"x\":50,\"y\":-28},\"angle\":0,\"id\":\"33d63bf2-4515-4592-9a78-d52506135f4b\",\"z\":1,\"attrs\":{\"rect\":{\"fill\":\"#2d3236\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":150,\"y\":-43},\"angle\":0,\"id\":\"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7\",\"z\":2,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"invalid-action\":false},\".warning\":{\"display\":\"none\"},\".label\":{\"text\":\"Create VPC\"},\".p_id\":{\"text\":\"6214a96416621a00323ec192\"},\"image\":{\"xlink:href\":\"/plugins/AmazonEC2/logo.png\",\"ref-y\":50},\"text\":{\"text\":\"Create VPC\"}}},{\"type\":\"devs.Link\",\"source\":{\"id\":\"33d63bf2-4515-4592-9a78-d52506135f4b\",\"port\":\"  \"},\"target\":{\"id\":\"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"86991d29-4b2a-49f3-9ea2-df39e77f5e55\",\"z\":3,\"attrs\":{\".connection\":{\"stroke-width\":3,\"stroke\":\"#87939A\"},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":339,\"y\":-44},\"angle\":0,\"id\":\"27c893ee-69b6-46f1-8016-0c264750a843\",\"z\":4,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"invalid-action\":false},\".warning\":{\"display\":\"none\"},\".label\":{\"text\":\"Create SG\"},\".p_id\":{\"text\":\"6214a96416621a00323ec192\"},\"image\":{\"xlink:href\":\"/plugins/AmazonEC2/logo.png\",\"ref-y\":50},\"text\":{\"text\":\"Create SG\"}}},{\"type\":\"link\",\"source\":{\"id\":\"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7\",\"port\":\"  \"},\"target\":{\"id\":\"27c893ee-69b6-46f1-8016-0c264750a843\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"15be2576-0daf-41e1-9c35-6351588894f6\",\"z\":5,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":721,\"y\":-44},\"angle\":0,\"id\":\"d51ac43a-8817-4dea-b9e2-e0c900ded5bc\",\"z\":7,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill\":\"#000\",\"fill-opacity\":0.5,\"invalid-action\":false},\".warning\":{\"display\":\"none\"},\".label\":{\"text\":\"Slack Notification\"},\".p_id\":{\"text\":\"6214aa5d16621a00323ed17a\"},\"image\":{\"xlink:href\":\"/plugins/Slack/logo.png\",\"ref-y\":50},\"text\":{\"text\":\"Slack Notification\"}}},{\"type\":\"link\",\"source\":{\"id\":\"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3\",\"port\":\"  \"},\"target\":{\"id\":\"d51ac43a-8817-4dea-b9e2-e0c900ded5bc\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"1ac0a804-e1f5-4bcc-95e3-71ef2bfcd420\",\"z\":8,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":540,\"y\":-44},\"angle\":0,\"id\":\"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3\",\"z\":9,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"invalid-action\":false},\".warning\":{\"display\":\"none\"},\".label\":{\"text\":\"SG Rule\"},\".p_id\":{\"text\":\"6214a96416621a00323ec192\"},\"image\":{\"xlink:href\":\"/plugins/AmazonEC2/logo.png\",\"ref-y\":50},\"text\":{\"text\":\"SG Rule\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":483,\"y\":-165},\"angle\":0,\"id\":\"0a1abe39-6761-4f01-8ba1-316494e5a64e\",\"z\":11,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"invalid-action\":false},\".warning\":{\"display\":\"none\"},\".label\":{\"text\":\"Delete VPC\"},\".p_id\":{\"text\":\"6214a96416621a00323ec192\"},\"image\":{\"xlink:href\":\"/plugins/AmazonEC2/logo.png\",\"ref-y\":50},\"text\":{\"text\":\"Delete VPC\"}}},{\"type\":\"link\",\"source\":{\"id\":\"27c893ee-69b6-46f1-8016-0c264750a843\",\"port\":\"  \"},\"target\":{\"id\":\"0a1abe39-6761-4f01-8ba1-316494e5a64e\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"22e24628-154d-453c-ae62-69b1aa44c226\",\"z\":12,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"link\",\"source\":{\"id\":\"27c893ee-69b6-46f1-8016-0c264750a843\",\"port\":\"  \"},\"target\":{\"id\":\"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"29785721-5ea2-48f0-97a5-c5ca891635db\",\"z\":13,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}}]}","code":"function getSlackMessage(){\n    let vpcId = kaholo.actions.awsCreateVpc.result.createVpc.Vpc.VpcId;\n    let sgName = kaholo.actions.awsCreateSG.result.createSecurityGroup.GroupId;\n    let awsRegion = kaholo.execution.configuration.region;\n    return `New VPC *${vpcId}* and Security Group *${sgName}* are created on AWS region *${awsRegion}* `\n}\n\nfunction generateSgName() {\n    let vpcId = kaholo.actions.awsCreateVpc.result.createVpc.Vpc.VpcId;\n    let sgConfigName = kaholo.execution.configuration.sg_name;\n    return vpcId.concat(\"-\", sgConfigName);\n}","plugins":[],"processes":[{"id":"62bc425bfefd0c0032cbeba5","uuid":"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7","codeId":"awsCreateVpc","name":"Create VPC","description":"This will create a new VPC with Region & CIDR Block values defined in Configuration Tab.","mandatory":true,"coordination":"","condition":"","preRun":"","postRun":"stashedVpcId = kaholo.actions.awsCreateVpc.result.createVpc.Vpc.VpcId","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Create VPC","mandatory":true,"method":"createVpc","params":[{"value":"Access_key_ID","code":null,"id":"61e51f2f9064ed0032e22a56","_id":"61e51f2f9064ed0032e22a56","language":null,"viewName":"Access Key","name":"AWS_ACCESS_KEY_ID","required":false,"param":"61e51f2f9064ed0032e22a56","type":"vault"},{"value":"Secret_access_key","code":null,"id":"61e51f2f9064ed0032e22a57","_id":"61e51f2f9064ed0032e22a57","language":null,"viewName":"Secret Key","name":"AWS_SECRET_ACCESS_KEY","required":false,"param":"61e51f2f9064ed0032e22a57","type":"vault"},{"value":"kaholo.execution.configuration.region","code":true,"id":"61e51f2f9064ed0032e22a58","_id":"61e51f2f9064ed0032e22a58","language":null,"viewName":"Region","name":"REGION","required":false,"param":"61e51f2f9064ed0032e22a58","type":"options"},{"value":"kaholo.execution.configuration.cidr_block","code":true,"id":"61e51f2f9064ed0032e22a63","_id":"61e51f2f9064ed0032e22a63","language":null,"viewName":"CIDR Block","name":"cidrBlock","required":false,"param":"61e51f2f9064ed0032e22a63","type":"string"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22a64","_id":"61e51f2f9064ed0032e22a64","language":null,"viewName":"Amazon Provided IPV6 Block","name":"amazonProvidedIpv6CidrBlock","required":false,"param":"61e51f2f9064ed0032e22a64","type":"boolean"},{"value":"default","code":null,"id":"61e51f2f9064ed0032e22a65","_id":"61e51f2f9064ed0032e22a65","language":null,"viewName":"Instance Tenancy","name":"instanceTenancy","required":false,"param":"61e51f2f9064ed0032e22a65","type":"options"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22a68","_id":"61e51f2f9064ed0032e22a68","language":null,"viewName":"Create Internet Gateway","name":"createInternetGateway","required":false,"param":"61e51f2f9064ed0032e22a68","type":"boolean"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22a69","_id":"61e51f2f9064ed0032e22a69","language":null,"viewName":"Create Route Table","name":"createRouteTable","required":false,"param":"61e51f2f9064ed0032e22a69","type":"boolean"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22a6a","_id":"61e51f2f9064ed0032e22a6a","language":null,"viewName":"Create Security Group","name":"createSecurityGroup","required":false,"param":"61e51f2f9064ed0032e22a6a","type":"boolean"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22a6b","_id":"61e51f2f9064ed0032e22a6b","language":null,"viewName":"Tags","name":"tags","required":false,"param":"61e51f2f9064ed0032e22a6b","type":"text"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22a6c","_id":"61e51f2f9064ed0032e22a6c","language":null,"viewName":"Dry Run","name":"dryRun","required":false,"param":"61e51f2f9064ed0032e22a6c","type":"boolean"}],"numParallel":""}],"used_plugin":{"name":"AmazonEC2","version":"2.5.8"},"correlateAgents":null,"numProcessParallel":""},{"id":"62bc425bfefd0c0032cbebb2","uuid":"27c893ee-69b6-46f1-8016-0c264750a843","codeId":"awsCreateSG","name":"Create SG","description":"This Action creates the Security Group on the VPC created in previous step. There is a conditional to execute this action based on previous action (CreateVPC) success. Also the Security Group created is having the prefix of the VPC id created in the previous step.","mandatory":false,"coordination":"","condition":"actions.awsCreateVpc.status=='success'","preRun":"","postRun":"stashedSGId = kaholo.actions.awsCreateSG.result.createSecurityGroup.GroupId","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Create SG","mandatory":false,"method":"createSecurityGroup","params":[{"value":"Access_key_ID","code":null,"id":"61e51f2f9064ed0032e22ac5","_id":"61e51f2f9064ed0032e22ac5","language":null,"viewName":"Access Key","name":"AWS_ACCESS_KEY_ID","required":false,"param":"61e51f2f9064ed0032e22ac5","type":"vault"},{"value":"Secret_access_key","code":null,"id":"61e51f2f9064ed0032e22ac6","_id":"61e51f2f9064ed0032e22ac6","language":null,"viewName":"Secret Key","name":"AWS_SECRET_ACCESS_KEY","required":false,"param":"61e51f2f9064ed0032e22ac6","type":"vault"},{"value":"kaholo.execution.configuration.region","code":true,"id":"61e51f2f9064ed0032e22ac7","_id":"61e51f2f9064ed0032e22ac7","language":null,"viewName":"Region","name":"REGION","required":false,"param":"61e51f2f9064ed0032e22ac7","type":"autocomplete"},{"value":"generateSgName()","code":true,"id":"61e51f2f9064ed0032e22ac8","_id":"61e51f2f9064ed0032e22ac8","language":null,"viewName":"Name","name":"name","required":false,"param":"61e51f2f9064ed0032e22ac8","type":"string"},{"value":"SG Group","code":null,"id":"61e51f2f9064ed0032e22ac9","_id":"61e51f2f9064ed0032e22ac9","language":null,"viewName":"Description","name":"description","required":false,"param":"61e51f2f9064ed0032e22ac9","type":"text"},{"value":"stashedVpcId","code":true,"id":"61e51f2f9064ed0032e22aca","_id":"61e51f2f9064ed0032e22aca","language":null,"viewName":"VPC ID","name":"vpcId","required":false,"param":"61e51f2f9064ed0032e22aca","type":"string"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22acb","_id":"61e51f2f9064ed0032e22acb","language":null,"viewName":"Tags","name":"tags","required":false,"param":"61e51f2f9064ed0032e22acb","type":"text"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22acc","_id":"61e51f2f9064ed0032e22acc","language":null,"viewName":"Dry Run","name":"dryRun","required":false,"param":"61e51f2f9064ed0032e22acc","type":"boolean"}],"numParallel":""}],"used_plugin":{"name":"AmazonEC2","version":"2.5.8"},"correlateAgents":null,"numProcessParallel":""},{"id":"62bc425bfefd0c0032cbebbc","uuid":"d51ac43a-8817-4dea-b9e2-e0c900ded5bc","codeId":"awsVpcSGSlack","name":"Slack Notification","description":"Notify the Slack channel with the VPC and Security Group Id. This one require a Slack User Token and Slack Channel name.  The custom message is defined in `getSlackMessage()` function.","mandatory":true,"coordination":"","condition":"","preRun":"","postRun":"","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Slack Notification","mandatory":true,"method":"sendMessageToChannel","params":[{"value":"","code":null,"id":"61e5200f9064ed0032e23975","_id":"61e5200f9064ed0032e23975","language":null,"viewName":"Access Token","name":"SLACK_TOKEN","required":false,"param":"61e5200f9064ed0032e23975","type":"vault"},{"value":{"id":"CQC5TP6NL","value":"general"},"code":null,"id":"61e5200f9064ed0032e23976","_id":"61e5200f9064ed0032e23976","language":null,"viewName":"Channel","name":"CHANNEL","required":false,"param":"61e5200f9064ed0032e23976","type":"autocomplete"},{"value":"getSlackMessage()","code":true,"id":"61e5200f9064ed0032e23977","_id":"61e5200f9064ed0032e23977","language":null,"viewName":"Text","name":"TEXT","required":false,"param":"61e5200f9064ed0032e23977","type":"text"}],"numParallel":""}],"used_plugin":{"name":"Slack","version":"1.2.2"},"correlateAgents":null,"numProcessParallel":""},{"id":"62bc425bfefd0c0032cbebc1","uuid":"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3","codeId":"awsAddSGRules","name":"SG Rule","description":"Add basic Inbound Rules. Please note that to successfully register the rules, select `Rule Type` to be `Ingress-Authorize`. This Action is conditionally executed based on the `success` status of CreateSG.","mandatory":true,"coordination":"","condition":"actions.awsCreateSG.status=='success'","preRun":"","postRun":"","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"SG Rule","mandatory":true,"method":"addSecurityGroupRules","params":[{"value":"Access_key_ID","code":null,"id":"61e51f2f9064ed0032e22adc","_id":"61e51f2f9064ed0032e22adc","language":null,"viewName":"Access Key","name":"AWS_ACCESS_KEY_ID","required":false,"param":"61e51f2f9064ed0032e22adc","type":"vault"},{"value":"Secret_access_key","code":null,"id":"61e51f2f9064ed0032e22add","_id":"61e51f2f9064ed0032e22add","language":null,"viewName":"Secret Key","name":"AWS_SECRET_ACCESS_KEY","required":false,"param":"61e51f2f9064ed0032e22add","type":"vault"},{"value":"kaholo.execution.configuration.region","code":true,"id":"61e51f2f9064ed0032e22ade","_id":"61e51f2f9064ed0032e22ade","language":null,"viewName":"Region","name":"REGION","required":false,"param":"61e51f2f9064ed0032e22ade","type":"autocomplete"},{"value":"kaholo.actions.awsCreateSG.result.createSecurityGroup.GroupId","code":true,"id":"61e51f2f9064ed0032e22adf","_id":"61e51f2f9064ed0032e22adf","language":null,"viewName":"Group ID","name":"groupId","required":false,"param":"61e51f2f9064ed0032e22adf","type":"string"},{"value":"Ingress-Authorize","code":null,"id":"61e51f2f9064ed0032e22ae0","_id":"61e51f2f9064ed0032e22ae0","language":null,"viewName":"Rule Type","name":"ruleType","required":false,"param":"61e51f2f9064ed0032e22ae0","type":"options"},{"value":"kaholo.execution.configuration.cidr_block","code":true,"id":"61e51f2f9064ed0032e22ae5","_id":"61e51f2f9064ed0032e22ae5","language":null,"viewName":"CIDR IPv4 Blocks","name":"cidrIps","required":false,"param":"61e51f2f9064ed0032e22ae5","type":"text"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22ae6","_id":"61e51f2f9064ed0032e22ae6","language":null,"viewName":"CIDR IPv6 Blocks","name":"cidrIps6","required":false,"param":"61e51f2f9064ed0032e22ae6","type":"text"},{"value":"22\n80","code":null,"id":"61e51f2f9064ed0032e22ae7","_id":"61e51f2f9064ed0032e22ae7","language":null,"viewName":"From Ports","name":"fromPorts","required":false,"param":"61e51f2f9064ed0032e22ae7","type":"text"},{"value":"22\n80","code":null,"id":"61e51f2f9064ed0032e22ae8","_id":"61e51f2f9064ed0032e22ae8","language":null,"viewName":"To Ports","name":"toPorts","required":false,"param":"61e51f2f9064ed0032e22ae8","type":"text"},{"value":"TCP","code":null,"id":"61e51f2f9064ed0032e22ae9","_id":"61e51f2f9064ed0032e22ae9","language":null,"viewName":"Ip Protocol","name":"ipProtocol","required":false,"param":"61e51f2f9064ed0032e22ae9","type":"options"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22aee","_id":"61e51f2f9064ed0032e22aee","language":null,"viewName":"Description","name":"description","required":false,"param":"61e51f2f9064ed0032e22aee","type":"text"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22aef","_id":"61e51f2f9064ed0032e22aef","language":null,"viewName":"Dry Run","name":"dryRun","required":false,"param":"61e51f2f9064ed0032e22aef","type":"boolean"}],"numParallel":""}],"used_plugin":{"name":"AmazonEC2","version":"2.5.8"},"correlateAgents":null,"numProcessParallel":""},{"id":"62bc425bfefd0c0032cbebcf","uuid":"0a1abe39-6761-4f01-8ba1-316494e5a64e","codeId":"awsdeletevpc1","name":"Delete VPC","description":"This Action will execute only if the CreateSG status is `error` and delete the VPC created as part of CreateVPC Action.","mandatory":true,"coordination":"","condition":"actions.awsCreateSG.status=='error'","preRun":"","postRun":"stashedVpcId = kaholo.actions.awsCreateVpc.result.createVpc.Vpc.VpcId","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Delete VPC","mandatory":true,"method":"deleteVpc","params":[{"value":"Access_key_ID","code":null,"id":"61e51f2f9064ed0032e22a87","_id":"61e51f2f9064ed0032e22a87","language":null,"viewName":"Access Key","name":"AWS_ACCESS_KEY_ID","required":false,"param":"61e51f2f9064ed0032e22a87","type":"vault"},{"value":"Secret_access_key","code":null,"id":"61e51f2f9064ed0032e22a88","_id":"61e51f2f9064ed0032e22a88","language":null,"viewName":"Secret Key","name":"AWS_SECRET_ACCESS_KEY","required":false,"param":"61e51f2f9064ed0032e22a88","type":"vault"},{"value":"kaholo.execution.configuration.region","code":true,"id":"61e51f2f9064ed0032e22a89","_id":"61e51f2f9064ed0032e22a89","language":null,"viewName":"Region","name":"REGION","required":false,"param":"61e51f2f9064ed0032e22a89","type":"options"},{"value":"kaholo.actions.awsCreateVpc.result.createVpc.Vpc.VpcId","code":true,"id":"61e51f2f9064ed0032e22a94","_id":"61e51f2f9064ed0032e22a94","language":null,"viewName":"VPC ID","name":"vpcId","required":false,"param":"61e51f2f9064ed0032e22a94","type":"string"},{"value":null,"code":null,"id":"61e51f2f9064ed0032e22a95","_id":"61e51f2f9064ed0032e22a95","language":null,"viewName":"Dry Run","name":"dryRun","required":false,"param":"61e51f2f9064ed0032e22a95","type":"boolean"}],"numParallel":""}],"used_plugin":{"name":"AmazonEC2","version":"2.5.8"},"correlateAgents":null,"numProcessParallel":""}],"configurations":[{"name":"Dev","value":"{\n   \"env\": \"dev\",\n   \"cidr_block\": \"10.2.0.0/16\",\n   \"region\": \"eu-central-1\",\n   \"sg_name\": \"kaholo\"\n}","_id":"62bc425bfefd0c0032cbebda"},{"name":"Prod","value":"{\n    \"env\" : \"prod\",\n    \"cidr_block\": \"10.3.0.0/16\",\n    \"region\": \"us-east-1\",\n     \"sg_name\": \"kaholo\"\n}","_id":"62bc425bfefd0c0032cbebdb"}],"links":[{"sourceId":"33d63bf2-4515-4592-9a78-d52506135f4b","targetId":"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7","uuid":"86991d29-4b2a-49f3-9ea2-df39e77f5e55"},{"uuid":"15be2576-0daf-41e1-9c35-6351588894f6","sourceId":"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7","targetId":"27c893ee-69b6-46f1-8016-0c264750a843"},{"uuid":"1ac0a804-e1f5-4bcc-95e3-71ef2bfcd420","sourceId":"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3","targetId":"d51ac43a-8817-4dea-b9e2-e0c900ded5bc"},{"uuid":"22e24628-154d-453c-ae62-69b1aa44c226","sourceId":"27c893ee-69b6-46f1-8016-0c264750a843","targetId":"0a1abe39-6761-4f01-8ba1-316494e5a64e"},{"uuid":"29785721-5ea2-48f0-97a5-c5ca891635db","sourceId":"27c893ee-69b6-46f1-8016-0c264750a843","targetId":"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3"}],"used_plugins":[{"name":"AmazonEC2","version":"2.5.8"},{"name":"AmazonEC2","version":"2.5.8"},{"name":"Slack","version":"1.2.2"},{"name":"AmazonEC2","version":"2.5.8"},{"name":"AmazonEC2","version":"2.5.8"}],"executionInputs":[],"exportedPipeline":{"description":"AWS VPC Security Group template performs the following actions:\n1. Create VPC\n2. Add SecurityGroup\n3. Add/Append Inbound Rules to SecurityGroup\n\nThe Actions is dependent on Configuration defined as per different environment like Dev/ Prod","queue":null}}
