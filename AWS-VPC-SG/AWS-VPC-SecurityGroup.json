{"content":"{\"cells\":[{\"type\":\"devs.PMStartPoint\",\"size\":{\"width\":40,\"height\":39},\"outPorts\":[\" \"],\"inPorts\":[],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\" \"}}}]},\"position\":{\"x\":50,\"y\":-28},\"angle\":0,\"id\":\"33d63bf2-4515-4592-9a78-d52506135f4b\",\"z\":1,\"attrs\":{\"rect\":{\"fill\":\"#2d3236\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":150,\"y\":-44},\"angle\":0,\"id\":\"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7\",\"z\":2,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"fill\":\"#2d3236\"},\".label\":{\"text\":\"Create VPC\"},\".p_id\":{\"text\":\"6214a96416621a00323ec192\"},\"image\":{\"xlink:href\":\"/plugins/AmazonEC2/logo.png\",\"ref-y\":50},\"text\":{\"text\":\"Create VPC\"}}},{\"type\":\"devs.Link\",\"source\":{\"id\":\"33d63bf2-4515-4592-9a78-d52506135f4b\",\"port\":\"  \"},\"target\":{\"id\":\"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"86991d29-4b2a-49f3-9ea2-df39e77f5e55\",\"z\":3,\"attrs\":{\".connection\":{\"stroke-width\":3,\"stroke\":\"#87939A\"},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":339,\"y\":-44},\"angle\":0,\"id\":\"27c893ee-69b6-46f1-8016-0c264750a843\",\"z\":4,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"fill\":\"#2d3236\"},\".label\":{\"text\":\"Create SG\"},\".p_id\":{\"text\":\"6214a96416621a00323ec192\"},\"image\":{\"xlink:href\":\"/plugins/AmazonEC2/logo.png\",\"ref-y\":50},\"text\":{\"text\":\"Create SG\"}}},{\"type\":\"link\",\"source\":{\"id\":\"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7\",\"port\":\"  \"},\"target\":{\"id\":\"27c893ee-69b6-46f1-8016-0c264750a843\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"15be2576-0daf-41e1-9c35-6351588894f6\",\"z\":5,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":721,\"y\":-44},\"angle\":0,\"id\":\"d51ac43a-8817-4dea-b9e2-e0c900ded5bc\",\"z\":7,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"fill\":\"#2d3236\"},\".label\":{\"text\":\"Slack Notification\"},\".p_id\":{\"text\":\"6214aa5d16621a00323ed17a\"},\"image\":{\"xlink:href\":\"/plugins/Slack/logo.png\",\"ref-y\":50},\"text\":{\"text\":\"Slack Notification\"}}},{\"type\":\"link\",\"source\":{\"id\":\"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3\",\"port\":\"  \"},\"target\":{\"id\":\"d51ac43a-8817-4dea-b9e2-e0c900ded5bc\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"1ac0a804-e1f5-4bcc-95e3-71ef2bfcd420\",\"z\":8,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":540,\"y\":-44},\"angle\":0,\"id\":\"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3\",\"z\":9,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"fill\":\"#2d3236\"},\".label\":{\"text\":\"SG Rule\"},\".p_id\":{\"text\":\"6214a96416621a00323ec192\"},\"image\":{\"xlink:href\":\"/plugins/AmazonEC2/logo.png\",\"ref-y\":50},\"text\":{\"text\":\"SG Rule\"}}},{\"type\":\"devs.MyImageModel\",\"size\":{\"width\":100,\"height\":73},\"inPorts\":[\" \"],\"outPorts\":[\"  \"],\"ports\":{\"groups\":{\"in\":{\"position\":{\"name\":\"left\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"left\",\"args\":{\"y\":10}}}},\"out\":{\"position\":{\"name\":\"right\"},\"attrs\":{\".port-label\":{\"fill\":\"#000\"},\".port-body\":{\"fill\":\"#fff\",\"stroke\":\"#000\",\"r\":10,\"magnet\":true}},\"label\":{\"position\":{\"name\":\"right\",\"args\":{\"y\":10}}}}},\"items\":[{\"id\":\" \",\"group\":\"in\",\"attrs\":{\".port-label\":{\"text\":\" \"}}},{\"id\":\"  \",\"group\":\"out\",\"attrs\":{\".port-label\":{\"text\":\"  \"}}}]},\"position\":{\"x\":483,\"y\":-165},\"angle\":0,\"id\":\"0a1abe39-6761-4f01-8ba1-316494e5a64e\",\"z\":11,\"attrs\":{\"rect\":{\"stroke-width\":1,\"fill-opacity\":0.5,\"fill\":\"#2d3236\"},\".label\":{\"text\":\"Delete VPC\"},\".p_id\":{\"text\":\"6214a96416621a00323ec192\"},\"image\":{\"xlink:href\":\"/plugins/AmazonEC2/logo.png\",\"ref-y\":50},\"text\":{\"text\":\"Delete VPC\"}}},{\"type\":\"link\",\"source\":{\"id\":\"27c893ee-69b6-46f1-8016-0c264750a843\",\"port\":\"  \"},\"target\":{\"id\":\"0a1abe39-6761-4f01-8ba1-316494e5a64e\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"22e24628-154d-453c-ae62-69b1aa44c226\",\"z\":12,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}},{\"type\":\"link\",\"source\":{\"id\":\"27c893ee-69b6-46f1-8016-0c264750a843\",\"port\":\"  \"},\"target\":{\"id\":\"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3\",\"port\":\" \"},\"router\":{\"name\":\"manhattan\"},\"connector\":{\"name\":\"rounded\"},\"id\":\"29785721-5ea2-48f0-97a5-c5ca891635db\",\"z\":13,\"attrs\":{\".connection\":{\"stroke\":\"#87939A\",\"stroke-width\":3},\".marker-target\":{\"fill\":\"#87939A\",\"d\":\"M 10 0 L 0 5 L 10 10 z\"}}}]}","code":"function getSlackMessage(){\n    let vpcId = kaholo.actions.awsCreateVpc.result.createVpc.Vpc.VpcId;\n    let sgName = kaholo.actions.awsCreateSG.result.createSecurityGroup.GroupId;\n    let awsRegion = kaholo.execution.configuration.region;\n    return `New VPC *${vpcId}* and Security Group *${sgName}* are created on AWS region *${awsRegion}* `\n}\n\nfunction generateSgName() {\n    let vpcId = kaholo.actions.awsCreateVpc.result.createVpc.Vpc.VpcId;\n    let sgConfigName = kaholo.execution.configuration.sg_name;\n    return vpcId.concat(\"-\", sgConfigName);\n}","plugins":[],"processes":[{"id":"62206d1d16621a00324389ed","uuid":"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7","codeId":"awsCreateVpc","name":"Create VPC","description":"This will create a new VPC with Region & CIDR Block values defined in Configuration Tab.","mandatory":true,"coordination":"","condition":"","preRun":"","postRun":"stashedVpcId = kaholo.actions.awsCreateVpc.result.createVpc.Vpc.VpcId","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Create VPC","mandatory":true,"method":"createVpc","params":[{"value":"aws_access_key_id","code":null,"id":"6214a96416621a00323ec260","_id":"6214a96416621a00323ec260","language":null,"viewName":"Access Key","name":"AWS_ACCESS_KEY_ID","required":false,"param":"6214a96416621a00323ec260","type":"vault"},{"value":"aws_secret_access_key","code":null,"id":"6214a96416621a00323ec261","_id":"6214a96416621a00323ec261","language":null,"viewName":"Secret Key","name":"AWS_SECRET_ACCESS_KEY","required":false,"param":"6214a96416621a00323ec261","type":"vault"},{"value":"kaholo.execution.configuration.region","code":true,"id":"6214a96416621a00323ec262","_id":"6214a96416621a00323ec262","language":null,"viewName":"Region","name":"REGION","required":false,"param":"6214a96416621a00323ec262","type":"options"},{"value":"kaholo.execution.configuration.cidr_block","code":true,"id":"6214a96416621a00323ec26d","_id":"6214a96416621a00323ec26d","language":null,"viewName":"CIDR Block","name":"cidrBlock","required":false,"param":"6214a96416621a00323ec26d","type":"string"},{"value":null,"code":null,"id":"6214a96416621a00323ec26e","_id":"6214a96416621a00323ec26e","language":null,"viewName":"Amazon Provided IPV6 Block","name":"amazonProvidedIpv6CidrBlock","required":false,"param":"6214a96416621a00323ec26e","type":"boolean"},{"value":"default","code":null,"id":"6214a96416621a00323ec26f","_id":"6214a96416621a00323ec26f","language":null,"viewName":"Instance Tenancy","name":"instanceTenancy","required":false,"param":"6214a96416621a00323ec26f","type":"options"},{"value":null,"code":null,"id":"6214a96416621a00323ec272","_id":"6214a96416621a00323ec272","language":null,"viewName":"Create Internet Gateway","name":"createInternetGateway","required":false,"param":"6214a96416621a00323ec272","type":"boolean"},{"value":null,"code":null,"id":"6214a96416621a00323ec273","_id":"6214a96416621a00323ec273","language":null,"viewName":"Create Route Table","name":"createRouteTable","required":false,"param":"6214a96416621a00323ec273","type":"boolean"},{"value":null,"code":null,"id":"6214a96416621a00323ec274","_id":"6214a96416621a00323ec274","language":null,"viewName":"Create Security Group","name":"createSecurityGroup","required":false,"param":"6214a96416621a00323ec274","type":"boolean"},{"value":null,"code":null,"id":"6214a96416621a00323ec275","_id":"6214a96416621a00323ec275","language":null,"viewName":"Tags","name":"tags","required":false,"param":"6214a96416621a00323ec275","type":"text"},{"value":null,"code":null,"id":"6214a96416621a00323ec276","_id":"6214a96416621a00323ec276","language":null,"viewName":"Dry Run","name":"dryRun","required":false,"param":"6214a96416621a00323ec276","type":"boolean"}],"isEnabled":true,"numParallel":""}],"used_plugin":{"name":"AmazonEC2","version":"2.5.8"},"correlateAgents":null,"numProcessParallel":""},{"id":"62206d1d16621a00324389fa","uuid":"27c893ee-69b6-46f1-8016-0c264750a843","codeId":"awsCreateSG","name":"Create SG","description":"This Action creates the Security Group on the VPC created in previous step. There is a conditional to execute this action based on previous action (CreateVPC) success. Also the Security Group created is having the prefix of the VPC id created in the previous step.","mandatory":false,"coordination":"","condition":"actions.awsCreateVpc.status=='success'","preRun":"","postRun":"stashedSGId = kaholo.actions.awsCreateSG.result.createSecurityGroup.GroupId","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Create SG","mandatory":false,"method":"createSecurityGroup","params":[{"value":"aws_access_key_id","code":null,"id":"6214a96416621a00323ec2cf","_id":"6214a96416621a00323ec2cf","language":null,"viewName":"Access Key","name":"AWS_ACCESS_KEY_ID","required":false,"param":"6214a96416621a00323ec2cf","type":"vault"},{"value":"aws_secret_access_key","code":null,"id":"6214a96416621a00323ec2d0","_id":"6214a96416621a00323ec2d0","language":null,"viewName":"Secret Key","name":"AWS_SECRET_ACCESS_KEY","required":false,"param":"6214a96416621a00323ec2d0","type":"vault"},{"value":"kaholo.execution.configuration.region","code":true,"id":"6214a96416621a00323ec2d1","_id":"6214a96416621a00323ec2d1","language":null,"viewName":"Region","name":"REGION","required":false,"param":"6214a96416621a00323ec2d1","type":"autocomplete"},{"value":"generateSgName()","code":true,"id":"6214a96416621a00323ec2d2","_id":"6214a96416621a00323ec2d2","language":null,"viewName":"Name","name":"name","required":false,"param":"6214a96416621a00323ec2d2","type":"string"},{"value":"SG Group","code":null,"id":"6214a96416621a00323ec2d3","_id":"6214a96416621a00323ec2d3","language":null,"viewName":"Description","name":"description","required":false,"param":"6214a96416621a00323ec2d3","type":"text"},{"value":"stashedVpcId","code":true,"id":"6214a96416621a00323ec2d4","_id":"6214a96416621a00323ec2d4","language":null,"viewName":"VPC ID","name":"vpcId","required":false,"param":"6214a96416621a00323ec2d4","type":"string"},{"value":null,"code":null,"id":"6214a96416621a00323ec2d5","_id":"6214a96416621a00323ec2d5","language":null,"viewName":"Tags","name":"tags","required":false,"param":"6214a96416621a00323ec2d5","type":"text"},{"value":null,"code":null,"id":"6214a96416621a00323ec2d6","_id":"6214a96416621a00323ec2d6","language":null,"viewName":"Dry Run","name":"dryRun","required":false,"param":"6214a96416621a00323ec2d6","type":"boolean"}],"isEnabled":true,"numParallel":""}],"used_plugin":{"name":"AmazonEC2","version":"2.5.8"},"correlateAgents":null,"numProcessParallel":""},{"id":"62208f5916621a0032439984","uuid":"d51ac43a-8817-4dea-b9e2-e0c900ded5bc","codeId":"awsVpcSGSlack","name":"Slack Notification","description":"Notify the Slack channel with the VPC and Security Group Id. This one require a Slack User Token and Slack Channel name.  The custom message is defined in `getSlackMessage()` function.","mandatory":true,"coordination":"","condition":"","preRun":"","postRun":"","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Slack Notification","mandatory":true,"method":"sendMessageToChannel","params":[{"value":"slack_token","code":null,"id":"6214aa5d16621a00323ed17c","_id":"6214aa5d16621a00323ed17c","language":null,"viewName":"Access Token","name":"SLACK_TOKEN","required":false,"param":"6214aa5d16621a00323ed17c","type":"vault"},{"value":{"id":"CQC5TP6NL","value":"general"},"code":null,"id":"6214aa5d16621a00323ed17d","_id":"6214aa5d16621a00323ed17d","language":null,"viewName":"Channel","name":"CHANNEL","required":false,"param":"6214aa5d16621a00323ed17d","type":"autocomplete"},{"value":"getSlackMessage()","code":true,"id":"6214aa5d16621a00323ed17e","_id":"6214aa5d16621a00323ed17e","language":null,"viewName":"Text","name":"TEXT","required":false,"param":"6214aa5d16621a00323ed17e","type":"text"}],"isEnabled":true,"numParallel":""}],"used_plugin":{"name":"Slack","version":"1.2.2"},"correlateAgents":null,"numProcessParallel":""},{"id":"6225f07416621a003245c390","uuid":"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3","codeId":"awsAddSGRules","name":"SG Rule","description":"Add basic Inbound Rules. Please note that to successfully register the rules, select `Rule Type` to be `Ingress-Authorize`. This Action is conditionally executed based on the `success` status of CreateSG.","mandatory":true,"coordination":"","condition":"actions.awsCreateSG.status=='success'","preRun":"","postRun":"","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"SG Rule","mandatory":true,"method":"addSecurityGroupRules","params":[{"value":"aws_access_key_id","code":null,"id":"6214a96416621a00323ec2e6","_id":"6214a96416621a00323ec2e6","language":null,"viewName":"Access Key","name":"AWS_ACCESS_KEY_ID","required":false,"param":"6214a96416621a00323ec2e6","type":"vault"},{"value":"aws_secret_access_key","code":null,"id":"6214a96416621a00323ec2e7","_id":"6214a96416621a00323ec2e7","language":null,"viewName":"Secret Key","name":"AWS_SECRET_ACCESS_KEY","required":false,"param":"6214a96416621a00323ec2e7","type":"vault"},{"value":"kaholo.execution.configuration.region","code":true,"id":"6214a96416621a00323ec2e8","_id":"6214a96416621a00323ec2e8","language":null,"viewName":"Region","name":"REGION","required":false,"param":"6214a96416621a00323ec2e8","type":"autocomplete"},{"value":"kaholo.actions.awsCreateSG.result.createSecurityGroup.GroupId","code":true,"id":"6214a96416621a00323ec2e9","_id":"6214a96416621a00323ec2e9","language":null,"viewName":"Group ID","name":"groupId","required":false,"param":"6214a96416621a00323ec2e9","type":"string"},{"value":"Ingress-Authorize","code":null,"id":"6214a96416621a00323ec2ea","_id":"6214a96416621a00323ec2ea","language":null,"viewName":"Rule Type","name":"ruleType","required":false,"param":"6214a96416621a00323ec2ea","type":"options"},{"value":"kaholo.execution.configuration.cidr_block","code":true,"id":"6214a96416621a00323ec2ef","_id":"6214a96416621a00323ec2ef","language":null,"viewName":"CIDR IPv4 Blocks","name":"cidrIps","required":false,"param":"6214a96416621a00323ec2ef","type":"text"},{"value":null,"code":null,"id":"6214a96416621a00323ec2f0","_id":"6214a96416621a00323ec2f0","language":null,"viewName":"CIDR IPv6 Blocks","name":"cidrIps6","required":false,"param":"6214a96416621a00323ec2f0","type":"text"},{"value":"22\n80","code":null,"id":"6214a96416621a00323ec2f1","_id":"6214a96416621a00323ec2f1","language":null,"viewName":"From Ports","name":"fromPorts","required":false,"param":"6214a96416621a00323ec2f1","type":"text"},{"value":"22\n80","code":null,"id":"6214a96416621a00323ec2f2","_id":"6214a96416621a00323ec2f2","language":null,"viewName":"To Ports","name":"toPorts","required":false,"param":"6214a96416621a00323ec2f2","type":"text"},{"value":"TCP","code":null,"id":"6214a96416621a00323ec2f3","_id":"6214a96416621a00323ec2f3","language":null,"viewName":"Ip Protocol","name":"ipProtocol","required":false,"param":"6214a96416621a00323ec2f3","type":"options"},{"value":null,"code":null,"id":"6214a96416621a00323ec2f8","_id":"6214a96416621a00323ec2f8","language":null,"viewName":"Description","name":"description","required":false,"param":"6214a96416621a00323ec2f8","type":"text"},{"value":null,"code":null,"id":"6214a96416621a00323ec2f9","_id":"6214a96416621a00323ec2f9","language":null,"viewName":"Dry Run","name":"dryRun","required":false,"param":"6214a96416621a00323ec2f9","type":"boolean"}],"isEnabled":true,"numParallel":""}],"used_plugin":{"name":"AmazonEC2","version":"2.5.8"},"correlateAgents":null,"numProcessParallel":""},{"id":"62284c6a16621a003246bf9d","uuid":"0a1abe39-6761-4f01-8ba1-316494e5a64e","codeId":"awsdeletevpc1","name":"Delete VPC","description":"This Action will execute only if the CreateSG status is `error` and delete the VPC created as part of CreateVPC Action.","mandatory":true,"coordination":"","condition":"actions.awsCreateSG.status=='error'","preRun":"","postRun":"stashedVpcId = kaholo.actions.awsCreateVpc.result.createVpc.Vpc.VpcId","filterAgents":"","actionsExecution":"series","actions":[{"retries":null,"timeout":null,"name":"Delete VPC","mandatory":true,"method":"deleteVpc","params":[{"value":"aws_access_key_id","code":null,"id":"6214a96416621a00323ec291","_id":"6214a96416621a00323ec291","language":null,"viewName":"Access Key","name":"AWS_ACCESS_KEY_ID","required":false,"param":"6214a96416621a00323ec291","type":"vault"},{"value":"aws_secret_access_key","code":null,"id":"6214a96416621a00323ec292","_id":"6214a96416621a00323ec292","language":null,"viewName":"Secret Key","name":"AWS_SECRET_ACCESS_KEY","required":false,"param":"6214a96416621a00323ec292","type":"vault"},{"value":"kaholo.execution.configuration.region","code":true,"id":"6214a96416621a00323ec293","_id":"6214a96416621a00323ec293","language":null,"viewName":"Region","name":"REGION","required":false,"param":"6214a96416621a00323ec293","type":"options"},{"value":"kaholo.actions.awsCreateVpc.result.createVpc.Vpc.VpcId","code":true,"id":"6214a96416621a00323ec29e","_id":"6214a96416621a00323ec29e","language":null,"viewName":"VPC ID","name":"vpcId","required":false,"param":"6214a96416621a00323ec29e","type":"string"},{"value":null,"code":null,"id":"6214a96416621a00323ec29f","_id":"6214a96416621a00323ec29f","language":null,"viewName":"Dry Run","name":"dryRun","required":false,"param":"6214a96416621a00323ec29f","type":"boolean"}],"isEnabled":true,"numParallel":""}],"used_plugin":{"name":"AmazonEC2","version":"2.5.8"},"correlateAgents":null,"numProcessParallel":""}],"configurations":[{"name":"Dev","value":"{\n   \"env\": \"dev\",\n   \"cidr_block\": \"10.2.0.0/16\",\n   \"region\": \"ap-south-1\",\n   \"sg_name\": \"kaholo\"\n}","_id":"6229f07516621a0032476dfa"},{"name":"Prod","value":"{\n    \"env\" : \"prod\",\n    \"cidr_block\": \"10.3.0.0/16\",\n    \"region\": \"us-east-1\",\n     \"sg_name\": \"kaholo\"\n}","_id":"6229f07516621a0032476dfb"}],"links":[{"sourceId":"33d63bf2-4515-4592-9a78-d52506135f4b","targetId":"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7","uuid":"86991d29-4b2a-49f3-9ea2-df39e77f5e55"},{"uuid":"15be2576-0daf-41e1-9c35-6351588894f6","sourceId":"a61f0bc9-f4b3-4ce6-8ccc-2277ddef2ea7","targetId":"27c893ee-69b6-46f1-8016-0c264750a843"},{"uuid":"1ac0a804-e1f5-4bcc-95e3-71ef2bfcd420","sourceId":"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3","targetId":"d51ac43a-8817-4dea-b9e2-e0c900ded5bc"},{"uuid":"22e24628-154d-453c-ae62-69b1aa44c226","sourceId":"27c893ee-69b6-46f1-8016-0c264750a843","targetId":"0a1abe39-6761-4f01-8ba1-316494e5a64e"},{"uuid":"29785721-5ea2-48f0-97a5-c5ca891635db","sourceId":"27c893ee-69b6-46f1-8016-0c264750a843","targetId":"227c8a10-6f0f-4e54-9b15-a40c4f35c0e3"}],"used_plugins":[{"name":"AmazonEC2","version":"2.5.8"},{"name":"AmazonEC2","version":"2.5.8"},{"name":"Slack","version":"1.2.2"},{"name":"AmazonEC2","version":"2.5.8"},{"name":"AmazonEC2","version":"2.5.8"}],"exportedPipeline":{"description":"AWS VPC Security Group template performs the following actions:\n1. Create VPC\n2. Add SecurityGroup\n3. Add/Append Inbound Rules to SecurityGroup\n\nThe Actions is dependent on Configuration defined as per different environment like Dev/ Prod","queue":null}}